
<html>
<head>
  <title>Mode Biometric Attendance</title>
  <style>
    table { border-collapse: collapse; width: 60%; margin: 20px auto; }
    th, td { border: 1px solid #000; padding: 8px; text-align: center; }
    th { background-color: #4CAF50; color: white; }
    h2 { text-align: center; }
  </style>
</head>
<body>
  <h2>Mode Biometric Attendance System</h2>
  <table id="attendanceTable">
    <tr>
      <th>Name</th>
      <th>ID</th>
      <th>Status</th>
      <th>Time</th>
    </tr>
  </table>

  <script>
    const channelID = "3095006"; // Your ThingSpeak channel ID
    const readAPIKey = ""; // Empty if public
    async function fetchData() {
      const url = `https://api.thingspeak.com/channels/${channelID}/feeds.json?results=20`;
      const response = await fetch(url);
      const data = await response.json();
      const table = document.getElementById("attendanceTable");
      table.innerHTML = `
        <tr>
          <th>Name</th>
          <th>ID</th>
          <th>Status</th>
          <th>Time</th>
        </tr>`;
      data.feeds.forEach(feed => {
        const row = table.insertRow();
        const nameCell = row.insertCell(0); nameCell.innerHTML = feed.field1 || "-";
        const idCell = row.insertCell(1); idCell.innerHTML = feed.field2 || "-";
        const statusCell = row.insertCell(2); statusCell.innerHTML = feed.field3 || "-";
        const timeCell = row.insertCell(3); timeCell.innerHTML = feed.created_at || "-";
      });
    }
    setInterval(fetchData, 5000); // update every 5 seconds
    fetchData(); // initial fetch
  </script>
</body>
</html>
